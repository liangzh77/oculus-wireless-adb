# TextMeshPro 中文字体支持指南

## 方法一：使用系统字体创建 TMP 字体资源（推荐）

### 步骤 1：准备中文字体文件

你需要一个支持中文的 .ttf 或 .otf 字体文件，例如：

- **Windows 系统字体**：
  - 微软雅黑：`C:\Windows\Fonts\msyh.ttc`
  - 黑体：`C:\Windows\Fonts\simhei.ttf`
  - Arial Unicode MS：`C:\Windows\Fonts\ARIALUNI.TTF`

- **或者下载免费字体**：
  - 思源黑体：https://github.com/adobe-fonts/source-han-sans
  - Noto Sans CJK：https://www.google.com/get/noto/

### 步骤 2：导入字体到 Unity

1. 将字体文件复制到 Unity 项目：
   ```
   Assets/Fonts/  （创建这个文件夹）
   └─ SourceHanSans.ttf  （你的中文字体）
   ```

2. 在 Unity 中选中字体文件，Inspector 中点击 Apply

### 步骤 3：创建 TextMeshPro 字体资源

1. **打开 Font Asset Creator**：
   ```
   菜单栏 → Window → TextMeshPro → Font Asset Creator
   ```

2. **配置字体生成设置**：
   ```
   Source Font File: 拖拽你的中文字体（如 SourceHanSans.ttf）

   Sampling Point Size: 42
   Padding: 5
   Packing Method: Optimum

   Atlas Resolution: 2048 x 2048

   Character Set: Unicode Range (Hex)
   Character Sequence (Hex):
   4E00-9FFF,3000-303F,FF00-FFEF,0020-007E

   （这个范围包含了常用汉字、标点符号和英文字符）
   ```

3. **生成字体资源**：
   - 点击 **Generate Font Atlas**
   - 等待生成完成（可能需要几分钟）

4. **保存字体资源**：
   - 点击 **Save**
   - 保存到 `Assets/Fonts/` 目录
   - 命名为：`SourceHanSans_SDF`

### 步骤 4：应用字体到所有文本

1. **使用 FixChineseFont 脚本**：
   - 在 Hierarchy 中选中任意 GameObject
   - 附加 `FixChineseFont` 脚本
   - 将生成的 `SourceHanSans_SDF` 拖拽到 `Chinese Font Asset` 字段
   - 右键组件 → **"Fix All Chinese Text"**

2. **完成！** 所有文本现在应该正确显示中文

---

## 方法二：快速方案 - 使用英文界面

如果你不想处理字体问题，可以直接使用英文界面：

1. **在 Hierarchy 中选中任意 GameObject**

2. **附加 FixChineseFont 脚本**

3. **右键组件 → "Replace Chinese with English"**

所有文本会自动替换为英文。

---

## 方法三：手动替换文本

你也可以手动编辑每个文本组件：

在 Hierarchy 中找到以下 GameObject 并修改：

```
ADB Control Canvas/Panel/
├─ Title              → "Wireless ADB Control"
├─ IPAddressText      → "IP: ---"
├─ PortText           → "Port: ----"
├─ StatusText         → "Not Initialized"
├─ EnableButton/Text  → "Enable ADB"
├─ DisableButton/Text → "Disable ADB"
├─ RefreshButton/Text → "Refresh"
└─ TcpipModeToggle/Label → "tcpip 5555 Mode"
```

---

## 推荐字体资源

### 免费商用字体

1. **思源黑体 (Source Han Sans)**
   - 下载：https://github.com/adobe-fonts/source-han-sans/releases
   - 选择：`SourceHanSansCN-Regular.otf` 或 `-Bold.otf`
   - 文件大小：约 15-20 MB

2. **Noto Sans CJK**
   - 下载：https://www.google.com/get/noto/
   - 非常全面，支持多种语言

3. **站酷系列字体**
   - 下载：https://www.zcool.com.cn/special/zcoolfonts/
   - 免费商用，质量高

### 轻量级字体（VR 推荐）

为了减小 APK 体积，可以只生成常用汉字：

**常用汉字范围（约 3500 个）**：
```
4E00-62FF,6300-77FF,7800-8CFF,8D00-9FA5
```

在 Font Asset Creator 中使用这个范围，可以将字体文件大小从 20MB 降低到 2-3MB。

---

## 故障排除

### Q1: 生成字体时提示 "Out of Memory"

**解决方法：**
- 减小 Atlas Resolution：改为 1024x1024
- 减少字符范围：只包含常用汉字
- 增加 Unity 的内存限制

### Q2: 某些字符显示为方框

**原因：** 字体资源中没有包含这些字符

**解决方法：**
- 重新生成字体，添加缺失的字符范围
- 或者避免使用生僻字

### Q3: 字体文件太大

**解决方法：**
- 只生成需要的字符（见上面的常用汉字范围）
- 使用较小的 Atlas Resolution
- 压缩纹理格式

---

## 快速对照表

| 需求 | 推荐方案 | 时间 | APK 增加大小 |
|------|----------|------|--------------|
| 不关心中文 | 方案 A（英文） | 1 分钟 | 0 KB |
| 需要中文，但字体简单 | 方法二（轻量字体） | 10 分钟 | 2-3 MB |
| 需要完美中文支持 | 方法一（完整字体） | 15 分钟 | 10-15 MB |

---

**建议：**
- 如果只是测试功能，先用**英文方案**最快
- 如果要发布给用户，建议导入**轻量级中文字体**

需要帮助的话，告诉我你选择哪个方案！
